# 安装指南

## 直接下载安装APK

### 方法一：使用构建好的APK（推荐）

如果项目已经构建完成，你会在项目根目录找到以下APK文件：

- `PushUpCounter-Debug.apk` - 调试版本（85 MB）
- `PushUpCounter-Release.apk` - 发布版本（79 MB，推荐）

### 方法二：自己构建APK

1. 确保已安装Java 17或更高版本
2. 运行构建脚本：

```bash
./build-apk.sh
```

按照提示选择构建类型（Debug或Release）。

## 在Android设备上安装

### 步骤 1: 传输APK到设备

你可以通过以下方式之一将APK传输到Android设备：

- **通过USB数据线**: 连接手机到电脑，复制APK文件到手机存储
- **通过邮件**: 将APK作为附件发送到自己的邮箱，在手机上下载
- **通过云存储**: 上传到Google Drive、Dropbox等，在手机上下载
- **通过ADB**: 如果启用了USB调试，使用 `adb install PushUpCounter-Release.apk`

### 步骤 2: 允许安装未知来源应用

首次安装APK时，可能需要允许从该来源安装：

1. 当提示"此应用来自未知来源"时，点击"设置"
2. 开启"允许此来源"开关
3. 返回并继续安装

**或者**手动设置：

1. 打开手机的"设置"
2. 进入"安全"或"应用"
3. 找到"安装未知应用"或"未知来源"
4. 找到文件管理器（或你用来打开APK的应用）
5. 允许该应用安装未知来源的应用

### 步骤 3: 安装应用

1. 在手机上找到APK文件（通常在"下载"文件夹）
2. 点击APK文件
3. 点击"安装"
4. 等待安装完成
5. 点击"打开"启动应用

## 使用ADB安装（适用于开发者）

如果你的设备已启用USB调试：

```bash
# 安装Debug版本
adb install -r PushUpCounter-Debug.apk

# 安装Release版本
adb install -r PushUpCounter-Release.apk
```

`-r` 参数允许覆盖安装已存在的应用。

## 首次运行

1. 打开应用后，需要授予以下权限：
   - **存储权限**: 用于读取视频文件
   - **相机权限**: 用于未来的实时录制功能（可选）

2. 点击"选择视频"按钮

3. 从相册中选择一个俯卧撑视频

4. 应用会自动分析视频并实时显示计数

## 系统要求

- **Android版本**: Android 7.0 (API 24) 或更高
- **存储空间**: 至少 100 MB 可用空间
- **建议设备**: 运行Android 10或更高版本的设备以获得最佳性能

## 卸载应用

如果需要卸载：

1. 长按应用图标
2. 选择"应用信息"或拖到"卸载"
3. 确认卸载

或通过设置：

1. 打开"设置" > "应用"
2. 找到"俯卧撑计数器"
3. 点击"卸载"

## 常见问题

### 无法安装应用

**原因**: 设备不允许安装未知来源的应用
**解决**: 参考"步骤 2: 允许安装未知来源应用"

### 安装时提示"应用未安装"

**可能原因**:
1. APK文件损坏 - 重新下载APK
2. 签名冲突 - 卸载旧版本后再安装
3. 存储空间不足 - 清理设备存储

### 应用崩溃或无法启动

**可能原因**:
1. 设备版本太低 - 需要Android 7.0或更高
2. 内存不足 - 关闭其他应用
3. 权限未授予 - 检查应用权限设置

### Debug版本和Release版本的区别

| 特性 | Debug版本 | Release版本 |
|------|----------|------------|
| 文件大小 | 较大 (85 MB) | 较小 (79 MB) |
| 性能 | 略低 | 更好 |
| 调试信息 | 包含 | 不包含 |
| 代码混淆 | 无 | 有 |
| 推荐用途 | 开发测试 | 日常使用 |

**推荐**: 普通用户安装Release版本。

## 获取帮助

如果遇到问题：

1. 查看 [使用指南](USAGE.md)
2. 查看 [常见问题](README.md)
3. 在GitHub上提交Issue

## 更新应用

当有新版本发布时：

1. 下载新的APK文件
2. 直接安装（会自动覆盖旧版本）
3. 如果无法覆盖安装，先卸载旧版本再安装新版本

**注意**: 卸载应用会删除所有应用数据。
